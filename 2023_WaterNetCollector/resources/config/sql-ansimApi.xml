<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ansimApi">

	<!-- select -->
	<select id="maria_db_conn_check" resultType="Integer">
        select 1 as TT from DUAL
	</select>

	<insert id="ansimAPIData" parameterType="mone.db.dto.AnsimApiResDTO">
			MERGE INTO IF_COLT_ANSIM_API
			USING DUAL
			ON (RQSTDT       = #{rqstdt})
			WHEN MATCHED THEN
				UPDATE
					SET  DATASET      = #{dataset}
						,FNCTLCNM     = #{fnctlcnm}
						,INSPCTDIVNM  = #{inspctdivnm}
						,PRCSSTATNM   = #{prcsstatnm}
						,RSTNM        = #{rstnm}
						,CSTMRNO      = #{cstmrno}
						,VISITINSPCTDT= #{visitinspctdt}
			WHEN NOT MATCHED THEN
				INSERT (
						 DATASET
						,FNCTLCNM
						,INSPCTDIVNM
						,PRCSSTATNM
						,RSTNM
						,CSTMRNO
						,VISITINSPCTDT
						,RQSTDT
				)
				VALUES (
						 #{dataset}
						,#{fnctlcnm}
						,#{inspctdivnm}
						,#{prcsstatnm}
						,#{rstnm}
						,#{cstmrno}
						,#{visitinspctdt}
						,#{rqstdt}
				)

	</insert>

</mapper>
